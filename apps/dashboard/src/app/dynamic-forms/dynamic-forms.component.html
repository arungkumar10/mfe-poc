<div class="border p-4">
<form [formGroup]="exampleForm" class="">
    <div class="form-group mb-4">
        <label>Company Name</label>
        <input type="text" class="form-control" formControlName="companyName" name="companyName">
    </div>
    <!-- <div>
        <input type="text" formControlName="countryName" name="countryName">
    </div> -->
    <h5>User Details</h5>
    <div formArrayName="units" class="mb-2" *ngFor="let units of exampleForm.controls.units.controls;let i=index;">
        <div>User No. {{i + 1}}</div>
        <div formGroupName={{i}} class="row">
        <div class="form-group col-4">
            <label>User Name</label>
            <input type="text" class="form-control" formControlName="username" name="username">
        </div>
        <div class="form-group col-4">
            <label>Country Name</label>
            <input type="text" formControlName="countryName" name="countryName22" class="form-control">
        </div>
        <div class="form-group col-4">
            <label>Mobile</label>
            <input type="number" formControlName="mobile" name="mobile" class="form-control">
            <p class="text-danger" *ngIf="units.controls.mobile.touched && units.controls.mobile.errors?.required">Mobile is required</p>
        </div>
        
        <!-- {{form.unitprice}} -->
        </div>
    </div>
    
    <div class="mb-2 float-end">
        <button type="button" class="btn btn-primary" (click)="addUnits()"> + Add User</button>
    </div>
    <br>
</form>

<div class="footer">
    <button type="button" class="btn btn-primary px-4" (click)="submit()">Submit</button>
</div>

</div>